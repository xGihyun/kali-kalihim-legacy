import{S as ae,i as se,d as U,s as ne,v as le,e as w,m as F,t as y,c as b,b as E,f as m,p as B,o as g,h as T,j as P,k as I,q as o,r as ie,n as K,x as C}from"../chunks/index.bc2fdfc4.js";import{d as Y,p as Z,_ as $}from"../chunks/firebase.507f3f22.js";const j="src/routes/(admin)/matchmake/+page.svelte";function ee(c){let e,s,p,a,n,r=c[2][0].personal_data.name.first+"",k,v,d=c[2][0].personal_data.name.last+"",l,D,f,t,u,_,S=c[2][1].personal_data.name.first+"",M,G,x=c[2][1].personal_data.name.last+"",V,H,R,z,O;const W={c:function(){e=w("span"),s=y("match found"),p=F(),a=w("div"),n=w("p"),k=y(r),v=F(),l=y(d),D=F(),f=w("span"),t=y("vs"),u=F(),_=w("p"),M=y(S),G=F(),V=y(x),H=F(),R=w("span"),z=y("Skill to perform: "),O=y(c[0]),this.h()},l:function(i){e=b(i,"SPAN",{class:!0});var h=E(e);s=g(h,"match found"),h.forEach(m),p=B(i),a=b(i,"DIV",{class:!0});var N=E(a);n=b(N,"P",{class:!0});var q=E(n);k=g(q,r),v=B(q),l=g(q,d),q.forEach(m),D=B(N),f=b(N,"SPAN",{class:!0});var X=E(f);t=g(X,"vs"),X.forEach(m),u=B(N),_=b(N,"P",{class:!0});var L=E(_);M=g(L,S),G=B(L),V=g(L,x),L.forEach(m),N.forEach(m),H=B(i),R=b(i,"SPAN",{});var J=E(R);z=g(J,"Skill to perform: "),O=g(J,c[0]),J.forEach(m),this.h()},h:function(){T(e,"class","uppercase text-9xl font-gt-walsheim-pro-medium"),P(e,j,50,3,1465),T(n,"class","text-3xl"),P(n,j,55,4,1721),T(f,"class","uppercase font-gt-walsheim-pro-medium text-3xl"),P(f,j,59,4,1840),T(_,"class","text-3xl"),P(_,j,60,4,1916),T(a,"class","flex gap-2 text-end"),P(a,j,54,3,1682),P(R,j,65,3,2045)},m:function(i,h){I(i,e,h),o(e,s),I(i,p,h),I(i,a,h),o(a,n),o(n,k),o(n,v),o(n,l),o(a,D),o(a,f),o(f,t),o(a,u),o(a,_),o(_,M),o(_,G),o(_,V),I(i,H,h),I(i,R,h),o(R,z),o(R,O)},p:function(i,h){h&4&&r!==(r=i[2][0].personal_data.name.first+"")&&C(k,r),h&4&&d!==(d=i[2][0].personal_data.name.last+"")&&C(l,d),h&4&&S!==(S=i[2][1].personal_data.name.first+"")&&C(M,S),h&4&&x!==(x=i[2][1].personal_data.name.last+"")&&C(V,x),h&1&&C(O,i[0])},d:function(i){i&&m(e),i&&m(p),i&&m(a),i&&m(H),i&&m(R)}};return U("SvelteRegisterBlock",{block:W,id:ee.name,type:"if",source:"(50:36) ",ctx:c}),W}function te(c){let e,s;const p={c:function(){e=w("div"),s=y("Loading..."),this.h()},l:function(n){e=b(n,"DIV",{});var r=E(e);s=g(r,"Loading..."),r.forEach(m),this.h()},h:function(){P(e,j,48,3,1401)},m:function(n,r){I(n,e,r),o(e,s)},p:K,d:function(n){n&&m(e)}};return U("SvelteRegisterBlock",{block:p,id:te.name,type:"if",source:"(48:2) {#if loading}",ctx:c}),p}function Q(c){let e,s,p,a,n,r,k;function v(f,t){if(f[3])return te;if(!f[3]&&f[1])return ee}let d=v(c),l=d&&d(c);const D={c:function(){e=w("div"),s=w("div"),l&&l.c(),p=F(),a=w("button"),n=y("Find Match"),this.h()},l:function(t){e=b(t,"DIV",{class:!0});var u=E(e);s=b(u,"DIV",{class:!0});var _=E(s);l&&l.l(_),_.forEach(m),p=B(u),a=b(u,"BUTTON",{class:!0});var S=E(a);n=g(S,"Find Match"),S.forEach(m),u.forEach(m),this.h()},h:function(){T(s,"class","flex flex-col gap-4 justify-center items-center min-h-min h-3/4"),P(s,j,46,1,1302),T(a,"class","variant-filled-primary rounded-md p-2"),P(a,j,68,1,2113),T(e,"class","h-full w-full flex flex-col justify-center items-center"),P(e,j,45,0,1230)},m:function(t,u){I(t,e,u),o(e,s),l&&l.m(s,null),o(e,p),o(e,a),o(a,n),r||(k=ie(a,"click",c[4],!1,!1,!1,!1),r=!0)},p:function(t,[u]){d===(d=v(t))&&l?l.p(t,u):(l&&l.d(1),l=d&&d(t),l&&(l.c(),l.m(s,null)))},i:K,o:K,d:function(t){t&&m(e),l&&l.d(),r=!1,k()}};return U("SvelteRegisterBlock",{block:D,id:Q.name,type:"component",source:"",ctx:c}),D}function oe(c,e,s){let{$$slots:p={},$$scope:a}=e;le("Page",p,[]);let n="",r=!1;function k(){const t=["Strikes","Blocks","Forward Sinawali","Sideward Sinawali","Reversed Sinawali","Guerrero","Cabellero","Triangle","Reversed Triangle"],u=Math.floor(Math.random()*t.length),_=t[u];s(0,n=_)}let v=[],d=!1;async function l(){s(3,d=!0);const u=await(await fetch("../api/matchmake")).json();s(2,v=u),k(),s(3,d=!1),s(1,r=!0),D(v)}function D(t){const u=new Date,_={players:[...t],timestamp:u};t.forEach(async S=>{const M=$(Y,`users/${S.auth_data.uid}/match_history`);await Z(M,_)})}const f=[];return Object.keys(e).forEach(t=>{!~f.indexOf(t)&&t.slice(0,2)!=="$$"&&t!=="slot"&&console.warn(`<Page> was created with unknown prop '${t}'`)}),c.$capture_state=()=>({db:Y,addDoc:Z,collection:$,skillToPerform:n,dataFetched:r,getRandomArnisSkill:k,users:v,loading:d,fetchRandomUsers:l,addMatchHistory:D}),c.$inject_state=t=>{"skillToPerform"in t&&s(0,n=t.skillToPerform),"dataFetched"in t&&s(1,r=t.dataFetched),"users"in t&&s(2,v=t.users),"loading"in t&&s(3,d=t.loading)},e&&"$$inject"in e&&c.$inject_state(e.$$inject),[n,r,v,d,l]}class fe extends ae{constructor(e){super(e),se(this,e,oe,Q,ne,{}),U("SvelteRegisterComponent",{component:this,tagName:"Page",options:e,id:Q.name})}}export{fe as component};
